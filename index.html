<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω–≤–µ—Å—Ç-–ü–æ–º–æ—â–Ω–∏–∫ 50/50</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 1.5rem; }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">üìä –°—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –†–æ—Å—Ç¬ª</h1>
            <p class="text-gray-500">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª–∞ 50/50</p>
        </header>

        <div class="glass-card p-6 shadow-xl mb-8 border border-blue-100">
            <label class="block text-sm font-medium text-gray-700 mb-2">–°–∫–æ–ª—å–∫–æ –≤—ã –≥–æ—Ç–æ–≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å? (‚ÇΩ)</label>
            <input type="number" id="totalAmount" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 100000" 
                   class="w-full p-4 text-2xl font-bold border-2 border-blue-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all">
            <p class="mt-3 text-xs text-gray-400">*–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—É–º–º–∞ –æ—Ç 15 000 ‚ÇΩ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –≤—Å–µ –±—É–º–∞–≥–∏.</p>
        </div>

        <div id="dashboard" class="hidden space-y-8">
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="glass-card p-6 shadow-md text-center">
                    <h3 class="font-semibold mb-4 text-gray-700">–û–±—â–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</h3>
                    <canvas id="mainChart" width="200" height="200"></canvas>
                </div>
                <div class="glass-card p-6 shadow-md flex flex-col justify-center">
                    <div class="mb-4">
                        <span class="text-sm text-gray-500 block">–ó–∞—â–∏—Ç–Ω–∞—è —á–∞—Å—Ç—å (–û–±–ª–∏–≥–∞—Ü–∏–∏)</span>
                        <span class="text-2xl font-bold text-blue-600" id="bondSumDisplay">0 ‚ÇΩ</span>
                        <p class="text-xs text-gray-400 italic">–í–∞—à–∞ "–ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏". –û–±–ª–∏–≥–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –≤—ã –¥–∞–µ—Ç–µ –≤ –¥–æ–ª–≥ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É –ø–æ–¥ –ø—Ä–æ—Ü–µ–Ω—Ç.</p>
                    </div>
                    <div>
                        <span class="text-sm text-gray-500 block">–ê–∫—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å (–ê–∫—Ü–∏–∏)</span>
                        <span class="text-2xl font-bold text-emerald-600" id="stockSumDisplay">0 ‚ÇΩ</span>
                        <p class="text-xs text-gray-400 italic">–ü–æ–∫—É–ø–∫–∞ –¥–æ–ª–µ–π –≤ –∫–æ–º–ø–∞–Ω–∏—è—Ö. –†–∞—Å—Ç—É—Ç –≤ —Ü–µ–Ω–µ –∏ –º–æ–≥—É—Ç –ø–ª–∞—Ç–∏—Ç—å –¥–∏–≤–∏–¥–µ–Ω–¥—ã.</p>
                    </div>
                </div>
            </div>

            <div class="space-y-6">
                <div class="glass-card overflow-hidden shadow-lg border-l-8 border-blue-500">
                    <div class="p-4 bg-blue-50">
                        <h2 class="text-xl font-bold text-blue-800">üè¶ –û–±–ª–∏–≥–∞—Ü–∏–∏ (–û–§–ó) ‚Äî 8 –±—É–º–∞–≥</h2>
                        <p class="text-sm text-blue-600">–ù–∞–¥–µ–∂–Ω—ã–π –¥–æ—Ö–æ–¥. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –ø–æ—Ä–æ–≤–Ω—É.</p>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50 text-xs uppercase text-gray-500">
                                <tr>
                                    <th class="p-4">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th class="p-4">–¶–µ–Ω–∞</th>
                                    <th class="p-4">–ö–æ–ª-–≤–æ</th>
                                    <th class="p-4">–°—É–º–º–∞</th>
                                </tr>
                            </thead>
                            <tbody id="bondTable" class="divide-y divide-gray-100 text-sm"></tbody>
                        </table>
                    </div>
                </div>

                <div class="glass-card overflow-hidden shadow-lg border-l-8 border-emerald-500">
                    <div class="p-4 bg-emerald-50">
                        <h2 class="text-xl font-bold text-emerald-800">üìà –ê–∫—Ü–∏–∏ ‚Äî 4 —ç—à–µ–ª–æ–Ω–∞ —Ä–∏—Å–∫–∞</h2>
                        <p class="text-sm text-emerald-600">–û—Ç –Ω–∞–¥–µ–∂–Ω—ã—Ö –≥–∏–≥–∞–Ω—Ç–æ–≤ –¥–æ –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π.</p>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead class="bg-gray-50 text-xs uppercase text-gray-500">
                                <tr>
                                    <th class="p-4">–¢–∏–∫–µ—Ä / –≠—à–µ–ª–æ–Ω</th>
                                    <th class="p-4">–¶–µ–Ω–∞</th>
                                    <th class="p-4">–ö–æ–ª-–≤–æ</th>
                                    <th class="p-4">–î–æ–ª—è</th>
                                </tr>
                            </thead>
                            <tbody id="stockTable" class="divide-y divide-gray-100 text-sm"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <footer class="text-center text-gray-400 text-xs pb-10">
                –î–∞–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–æ—Å–∏—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä. ID: I2-System
            </footer>
        </div>
    </div>

    <script>
        const bondsData = [
            { n: "–û–§–ó 26233", p: 596.94 }, { n: "–û–§–ó 26238", p: 602.52 },
            { n: "–û–§–ó 26240", p: 632.30 }, { n: "–û–§–ó 26230", p: 639.51 },
            { n: "–û–§–ó 26225", p: 687.50 }, { n: "–û–§–ó 26243", p: 748.58 },
            { n: "–û–§–ó 26221", p: 722.53 }, { n: "–û–§–ó 26235", p: 722.37 }
        ];

        const stocksData = [
            { t: "STSBp", n: "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç", p: 5.39, e: "I", w: 0.10 },
            { t: "SBER", n: "–°–±–µ—Ä–±–∞–Ω–∫", p: 299.08, e: "I", w: 0.10 },
            { t: "MRKC", n: "–†–æ—Å—Å–µ—Ç–∏ –¶–µ–Ω—Ç—Ä", p: 0.93, e: "I", w: 0.10 },
            { t: "VTBR", n: "–ë–∞–Ω–∫ –í–¢–ë", p: 71.50, e: "II", w: 0.133 },
            { t: "SNGSp", n: "–°—É—Ä–≥—É—Ç–Ω–µ—Ñ—Ç–µ–≥–∞–∑", p: 43.17, e: "II", w: 0.133 },
            { t: "GAZP", n: "–ì–∞–∑–ø—Ä–æ–º", p: 123.64, e: "II", w: 0.133 },
            { t: "MRKY", n: "–†–æ—Å—Å–µ—Ç–∏ –Æ–≥", p: 0.09, e: "III", w: 0.05 },
            { t: "LSRG", n: "–ì—Ä—É–ø–ø–∞ –õ–°–†", p: 650.20, e: "III", w: 0.05 },
            { t: "ELFV", n: "–≠–õ5-–≠–Ω–µ—Ä–≥–æ", p: 0.50, e: "III", w: 0.05 },
            { t: "RNFT", n: "–†—É—Å—Å–ù–µ—Ñ—Ç—å", p: 95.75, e: "IV", w: 0.05 },
            { t: "URKZ", n: "–£—Ä–∞–ª—å—Å–∫–∞—è –∫—É–∑–Ω–∏—Ü–∞", p: 260.50, e: "IV", w: 0.05 },
            { t: "ENPG", n: "–≠–ù+ –ì–†–£–ü", p: 468.05, e: "IV", w: 0.05 }
        ];

        let myChart;

        document.getElementById('totalAmount').addEventListener('input', function(e) {
            const total = parseFloat(e.target.value);
            if (total > 0) {
                document.getElementById('dashboard').classList.remove('hidden');
                calculate(total);
            } else {
                document.getElementById('dashboard').classList.add('hidden');
            }
        });

        function calculate(total) {
            const part = total / 2;
            document.getElementById('bondSumDisplay').innerText = part.toLocaleString() + ' ‚ÇΩ';
            document.getElementById('stockSumDisplay').innerText = part.toLocaleString() + ' ‚ÇΩ';

            // Bonds
            const bondTable = document.getElementById('bondTable');
            bondTable.innerHTML = '';
            const perBond = part / bondsData.length;
            bondsData.forEach(b => {
                const qty = Math.floor(perBond / b.p);
                bondTable.innerHTML += `<tr>
                    <td class="p-4 font-semibold">${b.n}</td>
                    <td class="p-4 text-gray-500">${b.p} ‚ÇΩ</td>
                    <td class="p-4 font-bold text-blue-600">${qty} —à—Ç.</td>
                    <td class="p-4">${(qty * b.p).toFixed(0)} ‚ÇΩ</td>
                </tr>`;
            });

            // Stocks
            const stockTable = document.getElementById('stockTable');
            stockTable.innerHTML = '';
            stocksData.forEach(s => {
                const stockPart = part * s.w;
                const qty = Math.floor(stockPart / s.p);
                const color = s.e === 'I' ? 'blue' : s.e === 'II' ? 'emerald' : 'orange';
                stockTable.innerHTML += `<tr>
                    <td class="p-4">
                        <span class="font-bold">${s.t}</span> 
                        <span class="text-[10px] bg-${color-100} text-${color-700} px-2 py-0.5 rounded-full ml-2">–≠—à–µ–ª–æ–Ω ${s.e}</span>
                        <div class="text-[10px] text-gray-400">${s.n}</div>
                    </td>
                    <td class="p-4 text-gray-500">${s.p} ‚ÇΩ</td>
                    <td class="p-4 font-bold text-emerald-600">${qty} —à—Ç.</td>
                    <td class="p-4 text-xs">${(s.w * 100).toFixed(1)}%</td>
                </tr>`;
            });

            updateChart(part, part);
        }

        function updateChart(bonds, stocks) {
            const ctx = document.getElementById('mainChart').getContext('2d');
            if (myChart) myChart.destroy();
            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['–û–±–ª–∏–≥–∞—Ü–∏–∏', '–ê–∫—Ü–∏–∏'],
                    datasets: [{
                        data: [bonds, stocks],
                        backgroundColor: ['#3b82f6', '#10b981'],
                        borderWidth: 0
                    }]
                },
                options: { cutout: '70%', plugins: { legend: { display: false } } }
            });
        }
    </script>
</body>
</html>